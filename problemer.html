<!DOCTYPE html>
<html lang="no">
  <!-- head  = informasjon til nettleser -->
  <head>
    <title>Hjem</title>
    <link href="code.png" rel="icon" type="image/png" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap');
      </style>
  </head>
  <!-- Body = Informasjon til nettsiden -->
  <body>
    <header>
      <!-- Logo, bedriftsnavn, navigasjon, temabytter, søkefelt, SoMe -->
      <nav class="headernav">
        <div class="logoandtexthd">
           <a href="https://hiof.no" target="_blank"> <img class="headerhiof" src="Images/hiof.jpg" alt="fant ikke HIOF logo" /></a>
          <p class="headingskrift"> Prosjektoppgave </p>
          <p class="headingskrift"> Høgskolekandidatstudium i Informatikk </p>
          <p class="headingskrift"> 1992-1994</p>
        </div>
        <div class="menydiv">
          <div>
            <ul>
              <!-- >Uoganisert liste -->
              <li>
                <a href="index.html"> <img src="Icons/home.png"/> Startside</a>
              </li>
              <li>
                <a href="introduksjon.html"> <img src="Icons/intro.png" /> Introduksjon</a>
              </li>
              <li>
                <a href="imagepro.html"> <img src="Icons/imageprov1.png"/>  ImagePro v1</a>
              </li>
            </ul>
          </div>
          <div>
            <ul>
              <!-- >Uoganisert liste -->
              <li>
                <a href="#problemer"> <img src="Icons/problems.png"/>  Problemer</a>
              </li>
              <li>
                <a href="kildekoder.html"> <img src="Icons/sourcecode.png"/> Kildekode</a>
              </li>
              <li>
                <a href="planer.html"> <img src="Icons/imageprov2.png" /> ImagePro v2</a>
              </li>
            </ul>
          </div>
        </div>
        <img class="imageprologo"  src="Images/imageprosv.png" alt="fant ikke ImagePro logo"/>
      </nav>
    </header>

    <main>
      <!-- Hovedinnhold: introduksjon, produkt, fremvisning -->
      <section id="problemer" class="intro">
        <!-- Hero / Main / Home -->
        <h2>Problemer som oppstod underveis med koding av ImagePro - Bitmap Viewer</h2>
          <p class="standard">
              På den tiden hvor dette programmet ble laget var Windows 3.11 et grafisk brukegrensesnitt som
              lå oppå operativsystemet MS-DOS. Dette var et 16-bits operativsystem. Windows 95 kom 1 år
              senere og var da 32-bits. I dag er Windows et 64-bits operativsystem.
          </p>
          <p class="standard">
              Skjermdriverne den gangen hadde en del bugs. Jeg fikk faktisk ikke vist noe på skjermen i
              vinduet mitt i starten, selv om jeg gikk flere ganger over programmet og mente jeg hadde gjort
              alt riktig. Jeg fant til slutt ut at det måtte være noe galt med driverne til skjermkortet og fikk tak i
              en VESA standard skjermkortdriver og programmet viste endelig det jeg håpet på.
              I forbindelse med oppgaven trengte jeg å bruke 32-bits minnepekere for å bl. a. rotere bildene.
              Jeg måtte da benytte meg av en egen funksjon under Windows som utførte dette. Programmet
              ville da ikke kompilere under Windows 95, som kom 1 år senere, fordi disse minnefunksjonene
              forsvant.
          </p>
          <p class="standard">
              Jpeg formatet hadde nettopp startet å øke i popularitet. Dette formatet benytter seg av
              prinsippet “lossy compression” hvor den analyserer bildet og fjerner informasjon det mener vi
              ikke kan se. Dette er et komplekst format og vanligvis benyttet man den gangen et C-bibliotek
              fra JPEG Independent Group. Jeg greide aldri å innlemme dette biblioteket i mitt program, som
              jeg fikk med på en diskett med en av bøkene jeg kjøpte. En av grunnene var at hver decoder jeg 
              laget leste en linje om gangen, mens Jpeg er blokk-basert kompresjon.
          </p>
          
          <p class="standard">
              TIFF formatet var ekstremt omfattende og kunne til og med inneholde JPG kompresjon. Jeg fikk
              også et bibliotek i C med på en diskett, men fikk det aldri til å fungere, selv om jeg greide å
              kompilere det. Jeg valgte da å kun inkludere TIFF uten kompresjon og kun med RLE (Run
              Length Encoding), som jeg programmerte selv.
          </p>
          <p class="standard">
              I forbindelse med Windows BMP format, finnes det en versjon hvor hver byte representere 2
              farger i en palette på 16 farger. Jeg skulle da pakke dette formatet med RLE kompresjon, og
              fant ingen dokumentasjon på hvordan det ble gjort. En byte består av 2 deler på 4-bits, også
              kalt en “nibble”. En byte består da av en High Order Nibble (de fire første bits) og Low Order
              Nibble (de siste 4 bits). Jeg valgte da å pakke hver High Order Nibble og hver Low Order Nibble
              med neste nibble av samme sort. Her overkompliserte jeg det. Fant ut senere at man skal kun
              pakke hver byte, hvis neste byte inneholder de to samme fargene. Om dette fungerte skikkelig,
              vet jeg faktisk heller ikke, men feilen ble aldri oppdaget.
          </p>
          <p class="standard">
              Jeg hadde også problemer med å få testet 24-bits bilder (RGB) fordi jeg kun hadde et
              256-fargers skjermkort (8-bit per farge i en 256 fargers palette). Da jeg endelig fikk tilgang til en
              maskin med et skjermkort som støttet dette, oppdaget jeg at 24-bits DIBs i Windows er først
              representert med den blå (B) fargen, ikke den røde (R). Bildet mitt av en rød fugl, ble blå på
              skjermen jeg testet programmet på.
          </p>
          <p class="standard">
              Selvfølgelig var det også ofte feil på disse diskettene vi sendte i post den gangen (1.44 mb - litt
              hardere casing enn floppy disker). Heldigvis fikk jeg ikke noe store problemer med dette da jeg
              sendte programmet inn.
          </p>
          <p class="standard">
              Og selvfølgelig var det også dette at jeg måtte sende program og spørsmål med vanlig post til
              Ky Van Ho, i stedet for å kunne gå direkte til kontoret til veilederen hvis man hadde et problem.
          </p>
          </main>

          <footer>
            <img class="kodeloftlogo" src="Icons/kodeloftalpha.png" alt="fant ikke logo"/>
            <div class="kreditasjonfooter">
              <p class="footertext"> Web-side utviklet av Harald Nydal</p>
              <p class="footertext"> Kodeloftet 1 - Gruppe 15</p>
            </div>
            <div class="emailandgithub">
              <a href="mailto:haraldn.kodeloftet@gmail.com" target="_blank">  <img src="Icons/email.png" alt="fant ikke icon"/> </a>
              <a href="https://github.com/Lazy-CSharp-Coder" target="_blank"> <img src="Icons/github2.png" alt="fant ikke icon" /> </a>
            </div>
           
            <!-- Logo, navigasjon, kreditasjon, betingelser (TOS - Terms of Service), søkefelt, SoME-->
          </footer>
  </body>
</html>
